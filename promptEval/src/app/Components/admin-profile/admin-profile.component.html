<div class="mx-auto max-w-[1100px] px-4 py-6">

    <!-- Header -->
    <div class="flex items-start justify-between">
        <div>
            <div class="flex items-center gap-3">
                <span
                    class="inline-flex h-12 w-12 items-center justify-center rounded-full bg-blue-50 text-blue-700 font-semibold">
                    {{ initials(fullName) }}
                </span>
                <div>
                    <h1 class="text-xl font-semibold text-gray-900">{{ fullName }}</h1>
                    <p class="text-sm text-gray-600">{{ title }}</p>
                </div>
            </div>
        </div>

        <button type="button" class="h-9 rounded-md bg-blue-600 px-3 text-sm font-medium text-white hover:bg-blue-700">
            Edit Profile
        </button>
    </div>

    <!-- Info cards -->
    <div class="mt-5 grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="rounded-xl border border-gray-200 bg-white p-4">
            <div class="space-y-3">
                <div *ngFor="let it of leftInfo" class="flex items-center justify-between gap-3">
                    <div class="flex items-center gap-3">
                        <div class="h-8 w-8 rounded-md bg-gray-100 text-gray-600 flex items-center justify-center">
                            <ng-container [ngSwitch]="it.icon">
                                <svg *ngSwitchCase="'mail'" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20 4H4a2 2 0 0 0-2 2v1l10 6 10-6V6a2 2 0 0 0-2-2z" />
                                    <path d="M22 9l-10 6L2 9v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z" />
                                </svg>
                                <svg *ngSwitchCase="'location'" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 2a7 7 0 0 0-7 7c0 5 7 13 7 13s7-8 7-13a7 7 0 0 0-7-7zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5z" />
                                </svg>
                                <svg *ngSwitchCase="'calendar'" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M6 2h2v2h8V2h2v2h2a2 2 0 0 1 2 2v3H2V6a2 2 0 0 1 2-2h2z" />
                                    <path d="M2 9h20v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2z" />
                                </svg>
                                <svg *ngSwitchDefault class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <circle cx="12" cy="12" r="10" />
                                </svg>
                            </ng-container>
                        </div>
                        <div>
                            <div class="text-xs text-gray-500">{{ it.label }}</div>
                            <div class="text-sm font-medium text-gray-900">{{ it.value }}</div>
                        </div>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600" title="Edit">
                        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42L18.37 3.3a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.84z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <div class="rounded-xl border border-gray-200 bg-white p-4">
            <div class="space-y-3">
                <div *ngFor="let it of rightInfo" class="flex items-center justify-between gap-3">
                    <div class="flex items-center gap-3">
                        <div class="h-8 w-8 rounded-md bg-gray-100 text-gray-600 flex items-center justify-center">
                            <ng-container [ngSwitch]="it.icon">
                                <svg *ngSwitchCase="'phone'" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M6.6 10.8a15.05 15.05 0 0 0 6.6 6.6l2.2-2.2a1 1 0 0 1 1-.26 11.36 11.36 0 0 0 3.6.6 1 1 0 0 1 1 1V20a2 2 0 0 1-2 2A18 18 0 0 1 4 6a2 2 0 0 1 2-2h2.5a1 1 0 0 1 1 1 11.36 11.36 0 0 0 .6 3.6 1 1 0 0 1-.26 1z" />
                                </svg>
                                <svg *ngSwitchCase="'team'" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M16 11a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm-8 0a3 3 0 1 0-3-3 3 3 0 0 0 3 3zm0 2c-2.67 0-8 1.34-8 4v2h10v-2c0-2.66-5.33-4-8-4zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.96 1.97 3.45V19h6v-2c0-2.66-5.33-4-8-4z" />
                                </svg>
                                <svg *ngSwitchCase="'id'" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M20 3H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM8 8h5v2H8zm0 4h8v2H8zm11 2a2 2 0 1 1 2-2 2 2 0 0 1-2 2z" />
                                </svg>
                                <svg *ngSwitchDefault class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                                    <circle cx="12" cy="12" r="10" />
                                </svg>
                            </ng-container>
                        </div>
                        <div>
                            <div class="text-xs text-gray-500">{{ it.label }}</div>
                            <div class="text-sm font-medium text-gray-900">{{ it.value }}</div>
                        </div>
                    </div>
                    <button class="text-gray-400 hover:text-gray-600" title="Edit">
                        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1.003 1.003 0 0 0 0-1.42L18.37 3.3a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 3.75 3.75 1.84-1.84z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Roles -->
    <div class="mt-5 rounded-xl border border-gray-200 bg-white p-4">
        <div class="flex items-center justify-between">
            <div class="font-semibold text-gray-900">Roles & Responsibilities</div>
            <button class="text-gray-400 hover:text-gray-600" title="Edit">
                <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z" />
                </svg>
            </button>
        </div>
        <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-2">
            <div *ngFor="let r of roles" class="flex items-center gap-2 text-sm">
                <span class="h-2.5 w-2.5 rounded-full" [ngClass]="r.ok ? 'bg-emerald-500' : 'bg-gray-300'"></span>
                <span class="text-gray-700">{{ r.label }}</span>
            </div>
        </div>
    </div>

    <!-- Metrics -->
    <div class="mt-5 rounded-xl border border-gray-200 bg-white p-4">
        <div class="font-semibold text-gray-900 mb-3">Prompt Evaluation Metrics</div>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
            <div *ngFor="let m of metrics" class="flex flex-col items-center">
                <svg [attr.width]="(ring.r + ring.stroke)*2" [attr.height]="(ring.r + ring.stroke)*2">
                    <g [attr.transform]="'translate(' + (ring.r + ring.stroke) + ',' + (ring.r + ring.stroke) + ')'">
                        <circle [attr.r]="ring.r" [attr.stroke-width]="ring.stroke" stroke="#E5E7EB" fill="none">
                        </circle>
                        <circle [attr.r]="ring.r" [attr.stroke-width]="ring.stroke" stroke="#3B82F6" fill="none"
                            stroke-linecap="round" [attr.stroke-dasharray]="ringDasharray(m.score)"
                            [attr.transform]="'rotate(-90)'"></circle>
                        <text text-anchor="middle" dy="5" class="text-sm fill-gray-900 font-semibold">{{ m.score
                            }}</text>
                    </g>
                </svg>
                <div class="mt-2 text-xs text-center text-gray-700">{{ m.label }}</div>
            </div>
        </div>
    </div>

    <!-- Recent Activities -->
    <div class="mt-5 rounded-xl border border-gray-200 bg-white p-4">
        <div class="font-semibold text-gray-900 mb-3">Recent Activities</div>
        <div class="overflow-x-auto">
            <table class="min-w-full text-sm">
                <thead class="text-left text-gray-500">
                    <tr>
                        <th class="py-2 pr-4">Date</th>
                        <th class="py-2 pr-4">Template Name</th>
                        <th class="py-2 pr-4">Action</th>
                        <th class="py-2 pr-4">Score</th>
                        <th class="py-2 pr-4">Status</th>
                        <th class="py-2">Time</th>
                    </tr>
                </thead>
                <tbody class="text-gray-800">
                    <tr *ngFor="let a of activities" class="border-t border-gray-100">
                        <td class="py-2 pr-4">{{ a.date }}</td>
                        <td class="py-2 pr-4">{{ a.template }}</td>
                        <td class="py-2 pr-4">{{ a.action }}</td>
                        <td class="py-2 pr-4 tabular-nums">{{ a.score }}</td>
                        <td class="py-2 pr-4">
                            <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium"
                                [ngClass]="badgeColor(a.status)">
                                {{ a.status }}
                            </span>
                        </td>
                        <td class="py-2 tabular-nums">{{ a.time }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>