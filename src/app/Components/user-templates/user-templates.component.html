<!-- Page header -->
<section class="mx-auto max-w-7xl px-4 pt-8 pb-4">
    <h1 class="text-3xl font-bold tracking-tight">Prompt Templates</h1>
    <p class="text-gray-600 mt-1">Curated collection of professional prompts for different domains</p>

    <!-- Search + tabs -->
    <div class="mt-5 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
        <div class="w-full sm:w-[380px]">
            <div class="relative">
                <input [(ngModel)]="query" type="text" placeholder="Search templatesâ€¦"
                    class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm outline-none focus:border-brand-500 focus:ring-2 focus:ring-brand-100" />
                <svg class="pointer-events-none absolute right-3 top-2.5 h-5 w-5 text-gray-400" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </div>
        </div>

        <div class="flex gap-2">
            <button *ngFor="let t of tabs" (click)="activeTab = t" class="rounded-md border px-3 py-2 text-sm"
                [ngClass]="{
          'bg-brand-600 text-white border-brand-600': activeTab===t,
          'bg-white text-gray-700 border-gray-300 hover:bg-gray-50': activeTab!==t
        }">
                {{ t }}
            </button>
        </div>
    </div>
</section>

<!-- Content area -->
<section class="mx-auto max-w-7xl px-4 pb-16">
    <div class="grid grid-cols-1 md:grid-cols-[240px,1fr] gap-6">
        <!-- Filters -->
        <aside class="rounded-xl border bg-white p-4 h-max">
            <div class="flex items-center justify-between">
                <h3 class="font-semibold text-sm text-gray-700">Filters</h3>
                <button class="text-gray-400 hover:text-gray-600" title="More">
                    <svg class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="5" cy="12" r="2" />
                        <circle cx="12" cy="12" r="2" />
                        <circle cx="19" cy="12" r="2" />
                    </svg>
                </button>
            </div>

            <div class="mt-4 space-y-4 text-sm">
                <div>
                    <div class="text-gray-500 mb-2 uppercase tracking-wide text-[11px]">Difficulty Level</div>
                    <label class="flex items-center gap-2 cursor-pointer mb-1">
                        <input type="checkbox" class="accent-brand-600"
                            (change)="toggleSet(filters.difficulty, 'Beginner')" />
                        <span>Beginner</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer mb-1">
                        <input type="checkbox" class="accent-brand-600"
                            (change)="toggleSet(filters.difficulty, 'Intermediate')" />
                        <span>Intermediate</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" class="accent-brand-600"
                            (change)="toggleSet(filters.difficulty, 'Advanced')" />
                        <span>Advanced</span>
                    </label>
                </div>

                <div>
                    <div class="text-gray-500 mb-2 uppercase tracking-wide text-[11px]">Use Case</div>
                    <label class="flex items-center gap-2 cursor-pointer mb-1">
                        <input type="checkbox" class="accent-brand-600" />
                        <span>Code Review</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer mb-1">
                        <input type="checkbox" class="accent-brand-600" />
                        <span>Documentation</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" class="accent-brand-600" />
                        <span>Testing</span>
                    </label>
                </div>

                <div>
                    <div class="text-gray-500 mb-2 uppercase tracking-wide text-[11px]">Rating</div>
                    <label class="flex items-center gap-2 cursor-pointer mb-1">
                        <input name="rating" type="radio" class="accent-brand-600" (change)="filters.rating = 4" />
                        <span>4+ Stars</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer mb-1">
                        <input name="rating" type="radio" class="accent-brand-600" (change)="filters.rating = 3" />
                        <span>3+ Stars</span>
                    </label>
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input name="rating" type="radio" class="accent-brand-600" (change)="filters.rating = 0"
                            checked />
                        <span>All Ratings</span>
                    </label>
                </div>
            </div>
        </aside>

        <!-- Cards -->
        <div class="space-y-5">
            <!-- Row 1 -->
            <div class="grid gap-5 md:grid-cols-2">
                <article *ngFor="let c of filteredCards | slice:0:2" class="card">
                    <div class="flex items-start justify-between gap-3">
                        <div>
                            <h4 class="font-semibold">{{ c.title }}</h4>
                            <p class="text-sm text-gray-600 mt-1">{{ c.description }}</p>
                            <div class="mt-3 flex flex-wrap items-center gap-2">
                                <span class="badge badge-blue">{{ c.domain }}</span>
                                <span class="badge badge-gray">{{ c.difficulty }}</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" title="Copy">
                            <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                        <span *ngIf="copied" class="ml-2 text-xs text-emerald-600">copied!</span>
                    </div>
                    <div class="mt-3 flex items-center justify-between text-sm text-gray-600">
                        <div class="flex items-center gap-1">
                            <svg class="h-4 w-4 text-yellow-500" viewBox="0 0 24 24" fill="currentColor"
                                (click)="copyTemplate(c.title, c.description)">
                                <path
                                    d="M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z" />
                            </svg>
                            <span>{{ c.rating }}</span>
                        </div>
                        <div class="text-gray-400">{{ c.uses | number }} uses</div>
                    </div>
                </article>
            </div>

            <!-- Row 2 -->
            <div class="grid gap-5 md:grid-cols-2">
                <article *ngFor="let c of filteredCards | slice:2:4" class="card">
                    <div class="flex items-start justify-between gap-3">
                        <div>
                            <h4 class="font-semibold">{{ c.title }}</h4>
                            <p class="text-sm text-gray-600 mt-1">{{ c.description }}</p>
                            <div class="mt-3 flex flex-wrap items-center gap-2">
                                <span class="badge" [ngClass]="{
                  'badge-blue': c.domain==='Software Engineering',
                  'badge-green': c.domain==='Content Writing' || c.domain==='Education'
                }">{{ c.domain }}</span>
                                <span class="badge badge-gray">{{ c.difficulty }}</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" title="Copy">
                            <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="mt-3 flex items-center justify-between text-sm text-gray-600">
                        <div class="flex items-center gap-1">
                            <svg class="h-4 w-4 text-yellow-500" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z" />
                            </svg>
                            <span>{{ c.rating }}</span>
                        </div>
                        <div class="text-gray-400">{{ c.uses | number }} uses</div>
                    </div>
                </article>
            </div>

            <!-- Row 3 -->
            <div class="grid gap-5 md:grid-cols-2" *ngIf="(filteredCards | slice:4).length">
                <article *ngFor="let c of filteredCards | slice:4" class="card">
                    <div class="flex items-start justify-between gap-3">
                        <div>
                            <h4 class="font-semibold">{{ c.title }}</h4>
                            <p class="text-sm text-gray-600 mt-1">{{ c.description }}</p>
                            <div class="mt-3 flex flex-wrap items-center gap-2">
                                <span class="badge badge-blue" *ngIf="c.domain==='Software Engineering'">{{ c.domain
                                    }}</span>
                                <span class="badge badge-green" *ngIf="c.domain!=='Software Engineering'">{{ c.domain
                                    }}</span>
                                <span class="badge badge-gray">{{ c.difficulty }}</span>
                            </div>
                        </div>
                        <button class="text-gray-400 hover:text-gray-600" title="Copy">
                            <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="mt-3 flex items-center justify-between text-sm text-gray-600">
                        <div class="flex items-center gap-1">
                            <svg class="h-4 w-4 text-yellow-500" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 17.27 18.18 21 16.54 13.97 22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z" />
                            </svg>
                            <span>{{ c.rating }}</span>
                        </div>
                        <div class="text-gray-400">{{ c.uses | number }} uses</div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</section>